# テクノロジーノート
技術関連の情報を効率的に整理・参照するためのアプリです。  
Web上の技術記事や技術書、Podcastなど様々な媒体で気になったりメモしたくなったらこのアプリに保存し、後で簡単に検索して参照できるようになります。  
アプリは、テキストベースのデータの保存と検索を主な機能として提供し、日々の学習と情報収集の効率を向上する目的を果たします。  
今回は試験的にChatGPT(GPT4)と協業してアプリの提案や設計を行いました。

# 技術スタック
- フロントエンド(Flutter)
  - Flutter for Web
- バックエンド(Firebase)
  - Firestore
  - Firebase Hosting
  - Firebase Authentication(※1)
（※1 Webアプリは誰でもアクセス可能なのでAuthenticationで利用ユーザーを制限）

# 開発時に考慮すべきこと
## 要設計・検討
1. データモデル設計: 一番重要なので時間をとって設計する
2. 検索機能: キャッシュデータをどうするか設計・検討する
3. UI/UX設計: 簡単に情報を追加、閲覧、検索できるような直感的で使いやすいUIを設計する
## 既に決めている or 検討不要
4. 外部インテグレーション: ブラウザの拡張機能提案をされたが今回は使わない
5. データ同期とバックアップ: データ同期は不要。バックアップは使うサービスで検討
6. セキュリティとプライバシー: 利用するクラウドサービスに準拠する
7. パフォーマンスとスケーラビリティ: GCPを使用する
8. 拡張可能なアーキテクチャ: Riverpodを使用する

# キャッシュ戦略と検索機能
GPT4の提案で「高性能な検索機能を提供するために、全文検索エンジンを利用することを考えてみてください。Flutterでは、SQLiteと組み合わせてFTS (Full-Text Search) 機能を利用することが可能です。」とのことだったが、Firestoreで全文検索を実装するには読み書き回数が多くなってしまうことと、ElasticsearchやAlgoliaを使うほど大量のテキストは扱わないし複雑になってしまうので全文検索は使用しないことにします。isarを使います。
1. Firestore+ローカルストレージを使うケース
   1. 利点: ローカルキャッシュを利用して高速なデータアクセスが可能。オフライン時のデータアクセスが改善される。
   2. 欠点: データ同期のロジックが複雑になり、コードの保守が難しくなる可能性がある。

# データモデル設計
メモ、記事のリンク、技術書のメモ等を効率的に保存・検索できるようなデータモデルを設計します。
エンティティと属性の識別、関係の定義、Firestoreのコレクションとドキュメントの設計を同時に考えます。
テクノロジーノートアプリの主要エンティティとその属性を明確に識別し、エンティティ間の関係を明確に定義し、それらの関連性を理解します。
次にエンティティと関係を基にFirestoreのコレクションとドキュメントの構造を設計します。最後に構造設計に準拠したFirestoreのルールを定義します。
## Entryデータ
技術情報のデータです。`Entries Collection`の直下に各エントリのドキュメントを直接配置する方式を採用し、階層構造は持たせない設計になります。これにより、Firestoreへの読み書き回数を最小限に抑えつつ、シンプルで直感的なデータモデルを維持できます。また、各エントリドキュメントにcategories配列フィールドを設けることで、エントリが複数の技術カテゴリに属する情報を効率的に保持できます。
```
TechNote(col)
  - TechEntry(doc)
    - Entries Collection(col)
      - [ランダムID]
        [Field]
        - title: エントリのタイトル
        - url: エントリのURLリンク。URLが無い場合は空
        - contents: エントリに関するメモや感想
        - category: エントリに関連するカテゴリID
        - tags: エントリに関連するカテゴリIDの配列
        - createdAt: エントリの作成日
        - updatedAt: エントリの最終更新日
  - TechCategory(doc)
    - Categories(col)
      - [Category ID 1からの連番]
        [Field]
        - name: カテゴリー名
        - thumbnailUrl: サムネイルURL
        - color: カラー(#00112233)
```

# UI/UX設計
ユーザが簡単に情報を追加、閲覧、検索できるような直感的で使いやすいUIを設計します。
## ホーム画面
- 検索エリア
  - キーワード検索: 検索ボタン押したら検索実行
  - タグ一覧: 選択したら即検索
- エントリ一覧エリア
  - 検索結果を表示する。デフォルトで最新エントリを20件くらい表示する
- どこかに新規登録ボタンを設ける
## エントリ追加画面
- URL、タイトル、メモの入力フィールド
- カテゴリーのTag一覧。選択したものが追加される。
- 保存ボタン
## エントリ詳細画面
- URL、タイトル、感想、カテゴリー、登録日付、更新日を表示
- URL設定した時にプレビュー表示したい（YouTube、slideshareなど）
- URLをクリックすると新しいタブで開く
- 編集ボタン(追加画面と同じ)
- 削除ボタン(削除する)
## アプリ設定画面（Navigation Menu）
アカウント、ライセンスなど
## カテゴリー管理画面（Navigation Menu）
カテゴリーの追加、編集、削除
- カテゴリ名
- カテゴリのサムネイル（アップロード機能）
- ガテゴリの色
