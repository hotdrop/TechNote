# テクノロジーノート
技術関連の情報を効率的に整理・参照するためのアプリです。  
このアプリは、Web上の技術記事や技術書籍、Podcast、YouTubeなど様々な媒体で気になったりメモしたくなった事柄をこのアプリに記録するとともに、簡単に検索・参照して日々の学習と情報収集の効率を向上する目的を果たします。  
なお、今回のアプリは試験的にChatGPT(GPT4)と協業してアプリの提案や設計を行いました。

# 技術スタック
- フロントエンド(Flutter)
  - Flutter for Web
- バックエンド(Firebase)
  - Firestore
  - Firebase Hosting
  - Firebase Authentication(※1)
  - Firebase Storage  

（※1 Webアプリは誰でもアクセス可能なのでAuthenticationで利用ユーザーを制限）

# 設計・検討
GPT4が挙げてくれた設計検討案をもとに今回のアプリで重点的に検討が必要なものをピックアップして記載します。  

## キャッシュ戦略と検索機能
GPT4の提案で  
「高性能な検索機能を提供するために、全文検索エンジンを利用することを考えてみてください。  Flutterでは、SQLiteと組み合わせてFTS (Full-Text Search) 機能を利用することが可能です。」  
とのことでしたが、Firestoreで全文検索を実装するには読み書き回数が多くなってしまうことと、ElasticsearchやAlgoliaを使うほど大量のテキストは扱わず複雑になってしまうことから、全文検索サービスは使用しないことにしました。  
ただ、ネットワークの頻繁な利用やFirestoreの読み込み回数を軽減するため、ローカルストレージを使う案は採用します。
Firestore+ローカルストレージを使うことの利点・欠点（GPT4より）
1. 利点: ローカルキャッシュを利用して高速なデータアクセスが可能。オフライン時のデータアクセスが改善される。
2. 欠点: データ同期のロジックが複雑になり、コードの保守が難しくなる可能性がある。
## データモデル設計
メモ、記事のリンク、技術書のメモ等を効率的に保存・検索できるようなデータモデルを設計します。
エンティティと属性の識別、関係の定義、Firestoreのコレクションとドキュメントの設計を同時に考えます。
テクノロジーノートアプリの主要エンティティとその属性を明確に識別し、エンティティ間の関係を明確に定義し、それらの関連性を理解します。
次にエンティティと関係を基にFirestoreのコレクションとドキュメントの構造を設計します。最後に構造設計に準拠したFirestoreのルールを定義します。
### Entryデータ
技術情報のデータです。`Entries Collection`の直下に各エントリのドキュメントを直接配置する方式を採用し、階層構造は持たせない設計になります。これにより、Firestoreへの読み書き回数を最小限に抑えつつ、シンプルで直感的なデータモデルを維持できます。また、各エントリドキュメントにcategories配列フィールドを設けることで、エントリが複数の技術カテゴリに属する情報を効率的に保持できます。
### Categoryデータ
技術情報に付加するカテゴリーデータです。
雑多に登録するとごちゃ混ぜになって意味不明になりますが、かといって階層構造にすると複雑で扱いづらくなるので検討の結果やめました。
最終的にエリアで分けることにしました。エリアは編集不可としアプリ内に定義します。（エリアはThoughtworks社の部類を参考にしました）
1. Language & Framework
2. Technique
3. Platform&Tool
4. Media
### データ構造
```
TechNote(col)
  - TechEntry(doc)
    - Entries Collection(col)
      - [ランダムID]
        [Field]
        - title: エントリのタイトル
        - url: エントリのURLリンク。URLが無い場合は空
        - contents: エントリに関するメモや感想
        - category: エントリに関連するカテゴリID
        - tags: エントリに関連するカテゴリIDの配列
        - createdAt: エントリの作成日
        - updatedAt: エントリの最終更新日
  - TechCategory(doc)
    - Categories(col)
      - [Category ID 1からの連番]
        [Field]
        - name: カテゴリー名
        - thumbnailUrl: サムネイルURL
        - color: カラー(#00112233)
        - area: エリアID
```
